use anyhow::Result;
use directories_next::ProjectDirs;
use rand::Rng;
use serde_derive::{Deserialize, Serialize};
use sodiumoxide::crypto::sign;
use std::{
    collections::HashMap,
    fs,
    net::{IpAddr, Ipv4Addr, SocketAddr},
    path::{Path, PathBuf},
    sync::{Arc, Mutex, RwLock},
    time::SystemTime,
};


use crate::{
    log,
    password_security::{
        decrypt_str_or_original, decrypt_vec_or_original, encrypt_str_or_original,
        encrypt_vec_or_original,
    },
};
pub const RENDEZVOUS_TIMEOUT: u64 = 12_000;
pub const CONNECT_TIMEOUT: u64 = 18_000;
pub const READ_TIMEOUT: u64 = 30_000;
pub const REG_INTERVAL: i64 = 12_000;
pub const COMPRESS_LEVEL: i32 = 3;
const SERIAL: i32 = 3;
const PASSWORD_ENC_VERSION: &'static str = "00";
// 128x128
#[cfg(target_os = "macos")] // 128x128 on 160x160 canvas, then shrink to 128, mac looks better with padding
pub const ICON: &str = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAMAUExURTI2QK+vroxxJ+2uBOapB6ChonNiMCw1SllROjs/STE4SE5SWTY6R6urq01JPmttclJVXG1eMoSGif+6AEFCQ6WAHvm2AEFETUVEQUlMVOutBeCmCZKSlHllLt6lCTI4R2JWNoJrKpl5IjA3SXt9gWZZNcGSEzc8RoVtKtqiC9WeDZSVlzc8RXZjL/SyAWdpblJMPLGIGjY6Q46OkMmYEK6GG1VOO76QFZmZmvKxAqN/HzxASZCRk/+9AG5wdPazAc2aD2JkavGwA+2uA9KdDkVIUKmpqOiqBjM4QKSkpTxASnJ0eDQ5SPKwAjo+Ri0xOD5ARFlcYl5hZzk9Rjs+RMSUEraLGLqOFnl7f7iMF6uFHH9oLLWLGDM4QeKoBzg+Rp59IFdaYTU6Q5J1JNegDIpwKHxnLWpdM+KnCNihC15UOGBkaTw/RLqOFWdaND5CSvWyAvKyAVhbYZZ3I36Ag0dLUzg7Rc2bEFtSOTg8Rj5CTFpdYz1BSjg8RZV3JIdvKYBpLEtIP0dGQTg9RTg9RjU5R/i1APe0ADk9RTk8Rve1APi0ADk8Rf24APu3AP+5ADc7RDI5SP65APq2APm1ADM5SDI4SPy3ADU5QjU6Rzc7RTY7RDQ4QjY6RDQ5QjY7RzU5QzQ6R/64APu2AP23AKysrPy4APq3AK2trTU7Rjc6RP+4AIyNj3BfMTg8RK2trK6uraqqqfa0AHV3e/25AEpHPzU6RsaVEjY7RsWWEmNma2NmbJOUloeJizo9RUNHT5+fn/m0APu4APCvA56foKOkpJeYmjo9RqCgoY+Rkj1CSjU6RK2srK6trbmOF3Fzd6Wlpqenp0VKUXZ4e7yPFqOjpEZJUqF+IOqsBjY5Q1ZZYK+HGtyjDIpvJ+OoB7aMGFdQO15VN2hbNHV3fMeXEjc6RaeCHfq1ANCbD/a0Afe0AU9LPVteZDU5RPi0ATU4Qo9zJpd4I/azAsiWETE4Sfy2ADI6SDk9R0VJUUZKUemsBemrBtmiCz9DTMeVEQAAAL0aAz0AAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAASB0lEQVR42mL4P8AAIIAYBtoBAAFEgQOsOUEQCsg2BSCAyHGA//GO5g6dzmYw7KiFgAl+fn5eE0g3DCCASHaAX40fZwsIdEJhMBLw4+ysIdE8gAAiyQF+frXNIAgGEGZtBybwIyUgAAKIBAcEB1dCIRjAOVAGGECYfpxeRJsKEEAMRNsO8m5LbTAIggGEWdvSGQyCUKs7QbClp6Onw4/IuAAIIAYirYd7mJgQgEDOKmKMBgggBuKsB3m2EuZpgiEAE6olIhQAAoiwA/yC0fxPbAgAhWq/ixMyHiCACDoguAXq3c5akkMABNcRMB8ggAg4wLoSkucqUSCyUEdHLRIEpj4QRhIK/u6H1waAAMLvAD+UYgYraIFRyBAi1AnhVHbiswIggBjwlztAgOJDSLGLIlAJhWBQiQLhQniKBYAAwuMAYPw2UxQCCFgbjNMWgADC7YBYqCeoEQKVOqdxWQMQQDgdENvc0ky1EADCWBz2AAQQLgfMCa6kZgjUVrbMwW4RQADhcIBObXAzGOIGHbBCAepHjBAIRgsUHaw2AQQQVgd4TUDyBK4QqERzEIEQAMIJ2IpFgADC6oAJiEIPtdhDFsKWHlCjHdxuQebOxmIXQABhc8AMFE9gDQF8ybISd7KYh2kZQABhccACLN4lLgSC0SIfLQSAAkkYtgEEEKYDGJorCYRAMBEAV8bAsA8ggBgI+B9LCBAJsIUAUAi9agIIIHQHTJjdUosMgyE+D4ZBou0Hu6Gntgfo606Q33sgsAU9KwAEELoDjLBHOEl+R84WLeCAQM4YaAkRIIDQHDAHpKUZCRKd4IiSBjNRi0SAAEJ1QO0skFIskY3F97CwwVICYncCLGPMQikSAQII1QFJzYgQICGxIXsR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
";

#[cfg(target_os = "windows")] // 32x32 no padding
pub const ICON: &str = "data:image/x-icon;base64,AAABAAQAMDAAAAEAIACoJQAARgAAACAgAAABACAAqBAAAO4lAAAYGAAAAQAgAIgJAACWNgAAEBAAAAEAIABoBAAAHkAAACgAAAAwAAAAYAAAAAEAIAAAAAAAgCUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABFPTkaRz44PEc+OWNFPTmGRj05pUY9ObtGPTnIRj050UY9OdxGPTnmRj056EY9OepGPTnqRj056EY9OeZGPTncRj050UY9OchGPTm7Rj05pUU9OYZHPjljRz44PEU9ORoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABHPDovRj05fUc8OcFGPTnrRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OetHPDnBRj05fUc8Oi8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASD05PUY9Oq9GPTn4Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OfhGPTqvSD05PQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEY9OAxGPTmVRj05/kY9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/kY9OZVGPTgMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARj43GUY9OcJGPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTnCRj04GQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEPjYMRj44w0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/RT04w0Q+NgwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABHPjmWRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0c+OZYAAAAAAAAAAAAAAAAAAAAAAAAAAEc8OTtGPTn9Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of1HPDk7AAAAAAAAAAAAAAAAAAAAAEU9OrNGPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9JODH/SjYu/0c8N/9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9FPTqzAAAAAAAAAAAAAAAARzw5LEY9OflGPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0o2L/8yX2//HoWn/0BISv9HOzb/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn5Rzw5LAAAAAAAAAAARz44fUY9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/SjYt/y5ne/8Bufv/AMP//zZZZv9JODD/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rz44fQAAAABNNDICSDs3w0U+Ov9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9JNzD/OFVf/wK19f8Av///F466/0c8N/9HPDf/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9FPjr/SDs3w000MgJFPToZRj057UY9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0c8N/9HOzf/EJvP/wC+//8GrOn/QEdJ/0g5M/9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj057UU9OhlHPjg8Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0o3Lv8wY3b/ALv//wC9//8ld5b/SzQr/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0c+ODxGPjlkRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj04/0k4Mf8Uk8L/AL3//wOy9P88TVT/SDky/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y+OWRGPTmGRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/SDoz/z1MUP8DsfH/ALz//w+d0f9HOzb/Rzw4/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OYZGPTmlRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Sjcv/zBjdf8Au///ALz//xeOuf9KNzD/Rj05/0Y9Of9GPTn/Rj05/0Y8OP9IOTP/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OaVGPDm8Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/SjUt/yhyjf8Avf//ALz//xuIr/9KNi7/Rj05/0Y9Of9GPTn/Rj04/0RAPf88TlT/SDkz/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y8ObxGPTnIRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/SzUs/yR6mf8Avf//ALz//xmKtP9KNy//Rj05/0Y9Of9GPTn/STgx/zZYZf8EtfP/Ml9w/0s1LP9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OchGPTnSRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/SzUs/yN7mv8Avf//ALv//xSUxP9JOTL/Rj04/0Y9Of9GPTn/SDkz/zxPVf8AuPr/A7f2/zJgcf9JNy//Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OdJGPTncRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/SzUs/ydzjv8AvP//ALj9/wmm4f9DQUD/Rzs2/0Y9Of9GPTn/Rj04/0k5Mf8Zi7b/AMD//weq5v9CRET/Rzs1/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OdxGPTnmRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Sjcv/zBjdf8Au///ALb5/wC5/f80XWz/SzYu/0Y9Of9GPTn/Rj05/0k5Mv88T1b/ArP1/wC9//8yYHD/Sjcu/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OeZGPTnoRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/SDkz/z1OVP8Cs/T/ALf7/wC7//8Tlsb/STgx/0c7Nf9GPTn/Rj05/0k3L/84VmL/Arb5/wC9//8dhKr/SzQr/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OehGPTnqRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rjw4/0g6NP8SmMr/ALz//wC1+P8Au///IX2g/0g5Mv9LNSv/SzUs/0k3L/8VksH/ALv//wC3+/8EsvH/OlFY/0o2Lv9GPTr/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OepGPTnqRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0c8N/9HOzX/SDkz/0g5M/9IOjT/Rzs2/0s1LP8uZ3z/ALv//wC1+P8Atvn/ALr//xGZy/8qbYb/LmZ6/xeQvP8AuP7/ALX5/wC1+P8Auv//DaLZ/0BHSP9KNi3/Rj05/0Y9Of9GPTn/Rj05/0c8OP9GPTj/Rj05/0Y9Of9GPTn/Rj05/0Y9OepGPTnoRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9IOTP/SjUt/0Y9Of9BRkf/PU1S/zxPVf8/Sk3/QUVF/0U/PP9IOjX/EZnM/wC6/v8Atfj/ALX4/wC6//8AvP//ALz//wC7//8Atfj/ALX4/wC1+P8Atfj/ALv//wul3v83WGP/SjYt/0s0LP9KNi3/STcv/0Y8OP9IOTP/Rzs2/0Y9Of9GPTn/Rj05/0Y9OehGPTnmRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rzo1/0o2Lf88TVP/I3qZ/w6f1f8HrOj/A7Hy/wKy9P8EsO7/B6rm/wuk3P8RmMn/Cabh/wC3+v8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC6//8Btff/GYu1/yV4lv8ggaP/Goqz/w6g1v8biK//RT88/0c8N/9GPTn/Rj05/0Y9OeZGPTncRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9KNi//Q0JB/yB/of8EsvL/AL3//wC6//8AuPz/ALf7/wC3+v8At/v/ALj8/wC5/v8Auv//ALf8/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atvr/ALv//wC9//8Avf//ALz//wC6//8Awv//KXCK/0o2Lv9GPTn/Rj05/0Y9OdxGPTnSRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rzw4/0s1LP81Wmf/DKXd/wC9//8At/z/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC4/f8BuPr/MGJ1/0k4Mf9GPTn/Rj05/0Y9OdJGPTnIRj05/0Y9Of9GPTn/Rj05/0Y9Of9HOzb/SjYv/ylwif8Ctvn/ALr//wC1+P8Atfj/ALf7/wC6//8Au///ALj9/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC3+/8Atvr/ALX4/wC1+P8Atfj/ALj9/wO09f8xYXP/Sjcv/0Y9Of9GPTn/Rj05/0Y9OchGPDm8Rj05/0Y9Of9GPTn/Rj05/0c7Nv9JODL/IH6h/wC8//8At/z/ALX4/wC4/v8Avf//A7Hx/w+c0P8UlMP/Cafi/wC7//8AuPz/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atvr/AL3//wWt7P8Eru3/ALb6/wC1+P8Auf7/Abj7/zJgcf9LNCv/Rj05/0Y9Of9GPTn/Rj05/0Y8ObxGPTmlRj05/0Y9Of9GPTn/Rzs1/0g5M/8chaz/AL3//wC2+v8AuP3/AL3//wqn4f8ld5T/PUxR/0c7Nv9JODH/REFA/yhyjv8EsPD/ALz//wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC6//8Btvn/In2e/zRda/8HrOj/ALj8/wC9//8FsfD/LmZ7/0o2Lf9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OaVGPTmGRj05/0Y9Of9HOzf/STgx/x2Fq/8Avv//ALf8/wC9//8Iqub/KHKM/0NBQP9LNS3/SDkz/0Y8OP9GPTn/Rzs1/0s1K/88TlX/EprL/wC+//8At/z/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8Atvr/AL3//wmo4v81W2n/Ti8j/xuGrf8Avv//ALr//x6Eqf89S1D/SjYv/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OYZGPjlkRj05/0Y8OP9IOjT/IX2f/wC9//8AvP//ArX3/x+BpP9BRUb/SzUs/0c7Nf9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9JODH/Rzw3/yV3lf8EsvL/AL3//wC4/f8Atvn/ALX4/wC1+P8Atvr/ALj9/wC9//8Bt/j/G4qy/0FFRv9LNCv/Q0JB/wWu7f8Awv//HYWq/0o1Lf9JODL/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y+OWRHPjg8Rj05/0g6NP9ASEn/ALf6/wDA//8Rmcz/OFZg/0o1LP9IOjT/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rzs2/0o1LP88T1X/HYWr/wer6P8At/v/ALv//wC7//8Btfj/Cank/x2FrP84VmD/STcw/0g5M/9GPTj/RT47/yZ0kf8qbYb/Rzs1/0c7Nv9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0c+ODxFPToZRj057UY8OP9GPDj/JnaT/yd0kP9HPDb/STcw/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9IOTL/STYv/0JFRP84VmH/MGN3/zFhc/85U1z/Q0NC/0o2Lv9JODH/Rj05/0Y9Of9GPTn/Rj05/0o3L/9KNi//Rjw4/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj057UU9OhlNNDICSDs3w0U+Ov9GPTj/STcv/0o2L/9HPDf/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0c7Nf9JODH/Sjcv/0o3L/9IOTL/Rzs2/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9FPjr/SDs3w000MgIAAAAARz44fUY9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rz44fQAAAAAAAAAARzw5LEY9OflGPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn5Rzw5LAAAAAAAAAAAAAAAAEU9OrNGPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9FPTqzAAAAAAAAAAAAAAAAAAAAAEc8OTtGPTn9Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of1HPDk7AAAAAAAAAAAAAAAAAAAAAAAAAABHPjmWRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9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ODtFPDmcRTw330Y8Of9FPDn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/RTw5/0Y8Of9FPDffRTw5nEU9ODtGPTgARz01AEY9OQBGPTkART04AEY9OABGOzoARjs6AEU9OgpGPDiWRj059kU9Of9GPTj/Rj05/kY9Of1FPTn+Rjw4/kU9Of5GPTn+Rj05/kY9Of5GPTn+Rj05/kY9Of5FPTn+Rjw4/kU9Of5GPTn9Rj05/kY9OP9FPTn/Rj059kY9OJZGPToKRjw5AEY9OQBFPTgART04AkU8OAFFPDgORjw3uEU7Of9FPTj/Rjw5+kY8Of1GPDn+RT05/0Y9Of5GPTn/Rj05/0Y8OP9FPTn/RT05/0Y8OP9GPDj/RT05/0Y8OP9GPTn/Rj05/kU9Of9GPDn+Rjw5/UY8OfpFPTj/RT05/0U8N7hFPTgORTw4AUU9OAFGPTgERTw4AEU8OJdFPDj/Rjw5+kY9OP1FPTn/Rj04/kY9Of5GPTn/Rj05/0Y9Of9GPDj/RT05/0Y8OP9FPTn/RT47/0U9Ov9GPDj/RT05/0Y8OP9GPTn/Rj05/0Y9Of5GPTj+RT05/0U9OP1GPTn6RDw4/0U8OJdEOzgARTw5A0M8OgBDPDo8RTw5+0U9OPxFPTn9Rj05/0Y9Of5GPTn/Rj05/0Y9Of9GPTn/Rj05/0U9Of9GPDj/RT05/0U8OP9KMyv/Rzcx/0U9Of9GPDj/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn+Rj05/0U9Of1FPTj8RTw5+0M8OjlJQjQARD45AUU8OJ1EPDn/Rj04+0U8Of5GPTj+Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rjw4/0U9Of9FOzb/Rzgy/yN7lf8wYnL/STYv/0U9Of9GPDj/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9FPTj+RT05/kY9OPtEPDn/RTw4nD43PwBLNjJHRjw31kU8Of5FPDf8RT05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj04/0Y9Of9FPDj/RT05/0ozK/8ffaD/AMj//y9jdP9KNCz/RD47/0Y7N/9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9FPTn/RTw3/EU8Of5GPDfgNihICUU8OJlFPDj3RT05/0Y8OP5FPTn+Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rjw4/0Q+O/9KNS3/NVhl/wDC//8bhaz/SjEo/0Q9Ov9FPDj/Rjw4/0U9Of9GPDj/Rj05/0Y9Of9GPTn/Rj05/0U9Of5GPDj+RT05/UU8OP9KQDM4RT04vEY9Of9GPDn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y8OP9FOzf/RD06/0k2Lf8Vkb7/AL38/ztOVf9JNi7/RD47/0Y8OP9FPTn/Rjw4/0U9Of9GPDj/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPDn8RTs5/kU8OW1FPTnQRj05/kU9Of9GPTn+RT05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rjw3/0U9Of9HOTL/PUhL/wG19v8Lotn/Rjs3/0U8N/9EPTn/Rjo2/0Y7Nv9FPjr/Rjw4/0Y9Of9GPDj/Rj05/0Y9Of9FPTn/Rj05/kU9Of1GPDj+RT05m0Y8OOFGPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GOzj/RD47/0k1LP80Wmj/AMH//xOVw/9INzH/RDw5/0U8N/9DPz3/Qz49/0c4Mf9FPTr/Rjw4/0U9Of9GPDj/Rj05/0Y9Of9GPTn/Rjw5/kU9Of9GPDi/Rjw56UY9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y8OP9EPTv/SjQq/zBhcv8Awv7/EpbG/0c4Mv9EPjr/STUu/zZWYv8OodT/QERF/0c5Mv9EPTr/Rjw4/0Y9Of9GPTn/Rj05/0Y9Of9GPDn9Rjw5/0Y8OdFGPTnvRj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rjw4/0U9Of9GPDj/Rjs3/0Q+O/9KMyv/MV9v/wC///8Jo97/RD47/0U9OP9FOzb/Q0E//wev6P8PnM//Rjk0/0U9OP9FPDj/RTw4/0Y8OP9GPDj/Rjw4/0Y9Of5GPTj/Rj053UY9OfRGPTn/Rj05/0Y9Of9GPTn/Rj05/0Y8OP9FPTn/Rjw4/0Y8OP9FPDj/RD47/0g2MP85Ulv/ALb4/wC5+/81WWb/TDEn/0FCQf9LMSb/J3CM/wDC//86UFf/STYv/0Q+O/9GOzf/Rjw4/0Y8OP9GPDj/Rjw4/kU9Of9GPDjpRj059UY9Of9GPTn/Rj05/0U8OP9FPTn/Rj05/0Y8OP9FPjr/RD88/0U9Of9FPTj/RDw4/0M/Pf8KpN3/AL///w+c0P9BQkL/SzEn/0c3MP8UksH/AML9/x6ApP9MMCX/RD06/0M/PP9EPzz/RD88/0U+Ov9FPDj+Rj04/0U9OetGPTn1Rj05/0Y8OP9GPDj/Rj05/0Y8OP9FPTn/RT06/0g3MP9KMyn/STYu/0g3Mf9HODH/Tiwe/yxqgf8Auv3/ALn9/wmn4v8gf6D/FJTE/wC4/v8AtPf/ALn9/yhviP9LMij/SjIp/0ozKf9KMin/SDYv/0U9Of5FPDj/Rjw460Y9OfRGPDj/RT05/0U9Of9GPDj/RD47/0Y6NP9JMyr/O05V/yJ5mf8Wj7z/EpTF/xWRvv8bhaz/HIOp/wGy9P8AtPf/ALf8/wC///8Au///ALT3/wC09/8Atfn/ALr+/xiJs/8vZXj/KW6F/x6BpP80Wmb/SDcx/kQ9Ov9FPDjpRj0470U9Of9GPDj/Rjw4/0Q/PP9JNS7/RD47/x9/ov8DsvL/ALz//wC7//8Auf//ALz//wC9//8AvP//ALT4/wC09/8AtPb/AbL0/wCz9f8AtPf/ALX4/wCz9v8AsvT/ALv//wC9//8Auf3/AMf//w6g0/9HODP+Rjw3/0Q9Od1GPDnpRjw4/0U7N/9EPjv/SjMr/ztNU/8NoNb/AL7//wC6//8Au///ALz//wC5//8BsfP/AbL0/wCz9v8Atfj/ALX4/wC1+P8Atfj/ALX4/wC1+P8As/b/ALX4/wC7//8As/b/ALDz/wC3+/8Fr+3/M1pp/0c4Mv1FPTn/RTw40UY7OOFFPDj/RD06/0ozKv82VWD/Bq7p/wDB//8Auv//DKLZ/x99oP8ncY3/EZjK/wC9//8Atvr/ALL0/wC09/8Atfj/ALX4/wC09/8As/b/ALLz/wC5/v8Atvr/FJK//wOs7P8Av///BLXy/zVYZf9LMSb/RD46/kU8OP9GPDi/Rjw30EQ9Ov5JNC3/N1Rf/gO18/8Awv//DaDV/y1ofP9EPjz/SjMq/0szKP9HODL/KHCK/wO08/8AvP//ALX3/wCy9f8AsvT/ALP1/wC2+v8Avv//CKvl/zdUYP8obob/AMX//xWUv/86Tlb/STYu/0Q+O/5FPDj9Rjw5/kU9OZtCQT+8SDcx/zxKT/8DuPP/BLbw/yVzj/9FPTn/SjIp/0Y6Nf9EPjv/Qz48/0U7N/9LMij/Ok9X/xWTwv8At/r/AL3//wC9//8Au///Bq/r/xyFq/8/Rkj/Tiwe/xeMtv8Wk7v/Rzgy/0k1LP9EPjv/Rjw4/0Y8OPxFOzn+RTw5bUQ/PplHNzH3PEtQ/x2Hqf46T1b+SzEn/0Y7Nv9EPjv/RT06/0U9Of9GPDj/RT06/0Q+PP9INi//Rzgx/zZVX/8qbof/JnOQ/y5kd/8+SU3/SjQs/0c5M/9EPjv/Qz8+/0Y5NP9GOzX/RD47/0U7N/5GPDj+RT05/UU8OP9KQDM4TDQvR0U9OdZGOjT+SjIq/Eg4Mf9EPjv/RTw5/0Y8OP9FPTn/Rjw4/0U9Of9GPTn/Rjw4/0U9Ov9FPDj/STYu/0szKv9LMyn/STQr/0g4Mf9EPjr/RT05/0Y9OP9HOzX/Rjw4/0U9Ov9GPDj/RT05/0U8N/xFPDn+Rjw34DYoSAlEPjkBRTw4nUQ9Of9FPjv7RT46/kY9Of5GPTj/RT05/0Y8OP9GPTn/Rjw4/0U9Of9FPTn/Rjw4/0U9Of9FPjv/RT47/0U+O/9FPjv/RT46/0U9Of9GPTj/Rjw4/0U9Of9FPTn/Rjw4/0U9Of5FPDn+Rj04+0Q8Of9FPDicPjc/AEQ8OgBDPDo8RTw4+0U8OPxFPDj9Rj05/0Y8OP5GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPDj/RT05/0Y8OP9GPDj/Rjw4/0Y8OP9GPDj/RT05/0Y8OP9GPTn/Rj05/0Y9Of9GPTn+Rj05/0U9Of1FPTj8RTw5+0M8OjlJQjQARTw4BEQ7OABFPDiXRDw4/0Y9OfpFPTj9RT05/0Y9OP5GPTn+Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn+Rj04/kU9Of9GPTj9Rjw5+kU8OP9FPDiXRTw4AEU8OQNFPTgCRTw4AUU9OA5FPDe4RT05/0U9OP9GPDn6Rjw5/UY8Of5FPTn/Rj05/kY9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn+RT05/0Y8Of5GPDn9Rjw5+kU9OP9FOzn/Rjw3uEU8OA5FPDgBRT04AUU9OABGPTkARjw5AEY9OgpGPTiWRj059kU9Of9GPTj/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9OP9FPTn/Rj059kY8OJZFPToKRjs6AEY7OgBGPTgART04AEY9OQBGPTkARz01AEY9OABFPTg+RTw5nUY8N9ZGPDn2RT05/0Y9Of5GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/kU9Of9GPDn2Rjw31kU8OZ1FPTg+Rj04AEY9NQBGOzoARjs6AEY+OAAAAAAARj05AEY9OQAAAP8DRj05BEQ9NwBCPzkARjs3SkU7OJZEPTi7RT050EY8OOFFPTnpRj0570Y9OfVGPTn2Rj059kY9OfVGPTnvRT056UY8OOFFPTnQRD04u0U7OJZGOzdKQj85AEQ9NwBGPDkEAAD/A0Y8OgBGPDoAAAAAAP+AAf/8AAA/8AAAD+AAAAfAAAADwAAAA4AAAAGAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAGAAAABwAAAA8AAAAPgAAAH8AAAD/wAAD//AAD/KAAAABgAAAAwAAAAAQAgAAAAAABgCQAAAAAAAAAAAAAAAAAAAAAAAEY9OQBGPTgARj05A0Y9NwBGPTkASDs4FEY7N1xFPTiYRTs5xEY9OdpFPTnoRj0570Y9Oe9FPTnoRj052kU7OcRFPTiYRjs3XEg7OBRGPTkARj03AEY9OQNGPTgART04AEY9OQBGPTgBRj05AEY9NytGPTmlRTw47UY8OP9FPTn/Rjw5/0Y9Of9GPTn/Rj05/0Y9Of9GPTn/Rj05/0Y8Of9FPTn/Rjw4/0U8OO1GPTmlRj03K0Y9OQBGPTgBRD03AEU9OQRGPDkART04UUU8OPJGPTn/Rj05/0Y9OfxGPTj9RT05/kU9Of5FPTn+Rjw4/kU9Ov5FPTn+Rjw4/kU9Of5GPDj9Rj05/EY9Of9GPTn/RTw48kU9OFFGPDkART04A0Y8OAJGPDkuRT048UU8Of9GPTn5RTw4/UY8OP5FPTn+RT05/kY8OP9GPDj/RT46/0c5M/9GPDf/RT05/0Y8OP5FPTn+Rjw4/kU8OP1GPTn5RTw5/0U9OPFGPDksRjw4AUM/OABFPDioRTw4/0Y9OflGPTn/Rj05/kY9Of5GPTn/Rjw4/0U8OP9EPTr/SDcw/z5JS/9DQT//RTs2/0U8OP9GPDj/Rj05/kY9Of5GPTn/Rj05+UU8OP9FPDipRTw5AEM+N1FFPDjnRDw5/UU8OP1GPTn/Rj05/0Y9Of9FPTn/RTw4/0Q+O/9JNCz/MV9v/wet5f9ARUX/Rzk0/0Q9Of9GOzf/Rj05/0Y9Of9GPTn/RTw4/UQ8Of5FPDjxRzo2FEY8OL9FPTn7RT04/0Y8OP5GPTn+Rj05/0Y9Of9GPDj/RD05/0Y7Nv9EPjz/BLLw/yR3lP9LMin/RD47/0U8OP9GPDj/RT05/0Y8OP9GPTn+Rjw4/kU9OPxFPDj/Rjw3XUU9ONtGPDj/Rjw5/0Y9Of9GPTn/Rj05/0Y9Of9FPDf/RD48/0ozKf8pbYb/Abb4/0NAP/9GOjT/RTw4/0U8OP9FPTr/Rjw4/0U9Of9GPDj/Rj05/0Y9OfxFPDn+RT04mUY8OelFPTn+RT05/0Y8OP5GPTn/Rj05/0Y9Of9EPTj/RD47/0ozKf8Wj7v/Cqbd/0c4Mv9FPDj/Qz88/0Y6Nf9GOjX/RTw5/0Y8OP9GPTn/Rjw4/kU8Of1GPTj+Rjw5xEY8OPFGPTn/Rj05/0Y9Of9GPTn/RTw4/0Y9Of9FPDn/RT06/0k1LP8Tl8b/CqXe/0Y6Nf9INzD/N1Re/xaRvP9EPTn/RTs3/0U8OP9FPDn/Rjw4/0Y8Of5FPDn/Rjw420Y9OfZGPTn/Rj05/0Y8OP9FPDj/Rj04/0U9Of9EPTn/RD48/0k0LP8Xjbj/Arf3/0JCQv9HOTP/Rzk0/wyj2f8kd5T/SzIo/0Q+PP9GPDj/RT05/0Y9OP1GPDj/Rj056EY9OflGPDj/RTw4/0U9Of9GPDj/RT06/0U+O/9GOjX/Rjs1/0wwJf8pboj/AMb//yB+oP9KMyn/STUs/w+c0P8Lo9r/STUt/0c5M/9EPTn/Rjw3/0Y8OP5FPTn/Rj0470Y9OflFPTn/Rj05/0Y8OP9FPjv/Rzgx/0k0K/9CQUD/PUpP/0BERP89Sk7/Bqvo/wC8//8Sl8f/EZnK/wC3/P8Auv//HIat/0U7N/9HODH/RD07/0Y5NP5FPTn/Rjw370U9OfZGPDj/RTw4/0Q+O/9KNCv/PUlO/xuHrf8HqeX/A6/v/wOv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
";

#[cfg(target_os = "linux")] // 128x128 no padding
pub const ICON: &str = "data:image/png;base64,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
";

#[cfg(target_os = "macos")]
lazy_static::lazy_static! {
    pub static ref ORG: Arc<RwLock<String>> = Arc::new(RwLock::new("com.hoptodesk".to_owned()));
}

type Size = (i32, i32, i32, i32);

lazy_static::lazy_static! {
    static ref CONFIG: Arc<RwLock<Config>> = Arc::new(RwLock::new(Config::load()));
    static ref CONFIG2: Arc<RwLock<Config2>> = Arc::new(RwLock::new(Config2::load()));
    static ref LOCAL_CONFIG: Arc<RwLock<LocalConfig>> = Arc::new(RwLock::new(LocalConfig::load()));
    pub static ref ONLINE: Arc<Mutex<HashMap<String, i64>>> = Default::default();
    pub static ref APP_NAME: Arc<RwLock<String>> = Arc::new(RwLock::new("HopToDesk".to_owned()));
    static ref KEY_PAIR: Arc<Mutex<Option<(Vec<u8>, Vec<u8>)>>> = Default::default();
}
#[cfg(target_os = "android")]
lazy_static::lazy_static! {
    pub static ref APP_DIR: Arc<RwLock<String>> = Arc::new(RwLock::new("/data/user/0/com.hoptodesk.hoptodesk/app_flutter".to_owned()));
}
#[cfg(target_os = "ios")]
lazy_static::lazy_static! {
    pub static ref APP_DIR: Arc<RwLock<String>> = Default::default();
}
#[cfg(any(target_os = "android", target_os = "ios"))]
lazy_static::lazy_static! {
    pub static ref APP_HOME_DIR: Arc<RwLock<String>> = Default::default();
}
const CHARS: &'static [char] = &[
    '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k',
    'm', 'n', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',
];

pub const RENDEZVOUS_PORT: i32 = 21116;

#[derive(Clone, Copy, PartialEq, Eq, Debug)]
pub enum NetworkType {
    Direct,
    ProxySocks,
}

#[derive(Debug, Default, Serialize, Deserialize, Clone, PartialEq)]
pub struct Config {
    #[serde(default)]
    pub id: String,
    #[serde(default)]
    password: String,
    #[serde(default)]
    salt: String,
    #[serde(default)]
    key_pair: (Vec<u8>, Vec<u8>), // sk, pk
    #[serde(default)]
    key_confirmed: bool,
    #[serde(default)]
    keys_confirmed: HashMap<String, bool>,
}

#[derive(Debug, Default, PartialEq, Serialize, Deserialize, Clone)]
pub struct Socks5Server {
    #[serde(default)]
    pub proxy: String,
    #[serde(default)]
    pub username: String,
    #[serde(default)]
    pub password: String,
}

// more variable configs
#[derive(Debug, Default, Serialize, Deserialize, Clone, PartialEq)]
pub struct Config2 {
    #[serde(default)]
    remote_id: String, // latest used one
    #[serde(default)]
    size: Size,
    #[serde(default)]
    rendezvous_server: String,
    #[serde(default)]
    nat_type: i32,
    #[serde(default)]
    serial: i32,

    #[serde(default)]
    socks: Option<Socks5Server>,

    // the other scalar value must before this
    #[serde(default)]
    pub options: HashMap<String, String>,
}

#[derive(Debug, Default, Serialize, Deserialize, Clone, PartialEq)]
pub struct PeerConfig {
    #[serde(default)]
    pub password: Vec<u8>,
    #[serde(default)]
    pub size: Size,
    #[serde(default)]
    pub size_ft: Size,
    #[serde(default)]
    pub size_pf: Size,
    #[serde(default)]
    pub view_style: String, // original (default), scale
    #[serde(default)]
    pub image_quality: String,
    #[serde(default)]
    pub custom_image_quality: Vec<i32>,
    #[serde(default)]
    pub show_remote_cursor: bool,
    #[serde(default)]
    pub lock_after_session_end: bool,
    #[serde(default)]
    pub privacy_mode: bool,
    #[serde(default)]
    pub port_forwards: Vec<(i32, String, i32)>,
    #[serde(default)]
    pub direct_failures: i32,
    #[serde(default)]
    pub disable_audio: bool,
    #[serde(default)]
    pub disable_clipboard: bool,
    #[serde(default)]
    pub enable_file_transfer: bool,
    #[serde(default)]
    pub show_quality_monitor: bool,

    // the other scalar value must before this
    #[serde(default)]
    pub options: HashMap<String, String>,
    #[serde(default)]
    pub info: PeerInfoSerde,
    #[serde(default)]
    pub transfer: TransferSerde,
}

#[derive(Debug, PartialEq, Default, Serialize, Deserialize, Clone)]
pub struct PeerInfoSerde {
    #[serde(default)]
    pub username: String,
    #[serde(default)]
    pub hostname: String,
    #[serde(default)]
    pub platform: String,
    #[serde(default)]
    pub mac_address: String,
}

#[derive(Debug, Default, Serialize, Deserialize, Clone, PartialEq)]
pub struct TransferSerde {
    #[serde(default)]
    pub write_jobs: Vec<String>,
    #[serde(default)]
    pub read_jobs: Vec<String>,
}

fn patch(path: PathBuf) -> PathBuf {
    if let Some(_tmp) = path.to_str() {
        #[cfg(windows)]
        return _tmp
            .replace(
                "system32\\config\\systemprofile",
                "ServiceProfiles\\LocalService",
            )
            .into();
        #[cfg(target_os = "macos")]
        return _tmp.replace("Application Support", "Preferences").into();
        #[cfg(target_os = "linux")]
        {
            if _tmp == "/root" {
                if let Ok(output) = std::process::Command::new("whoami").output() {
                    let user = String::from_utf8_lossy(&output.stdout)
                        .to_string()
                        .trim()
                        .to_owned();
                    if user != "root" {
                        return format!("/home/{}", user).into();
                    }
                }
            }
        }
    }
    path
}

impl Config2 {
    fn load() -> Config2 {
        let mut config = Config::load_::<Config2>("2");
        if let Some(mut socks) = config.socks {
            let (password, _, store) =
                decrypt_str_or_original(&socks.password, PASSWORD_ENC_VERSION);
            socks.password = password;
            config.socks = Some(socks);
            if store {
                config.store();
            }
        }
        config
    }

    pub fn file() -> PathBuf {
        Config::file_("2")
    }

    fn store(&self) {
        let mut config = self.clone();
        if let Some(mut socks) = config.socks {
            socks.password = encrypt_str_or_original(&socks.password, PASSWORD_ENC_VERSION);
            config.socks = Some(socks);
        }
        Config::store_(&config, "2");
    }

    pub fn get() -> Config2 {
        return CONFIG2.read().unwrap().clone();
    }

    pub fn set(cfg: Config2) -> bool {
        let mut lock = CONFIG2.write().unwrap();
        if *lock == cfg {
            return false;
        }
        *lock = cfg;
        lock.store();
        true
    }
}

pub fn load_path<T: serde::Serialize + serde::de::DeserializeOwned + Default + std::fmt::Debug>(
    file: PathBuf,
) -> T {
    let cfg = match confy::load_path(&file) {
        Ok(config) => config,
        Err(err) => {
            log::error!("Failed to load config: {}", err);
            T::default()
        }
    };
    cfg
}

#[inline]
pub fn store_path<T: serde::Serialize>(path: PathBuf, cfg: T) -> crate::ResultType<()> {
    Ok(confy::store_path(path, cfg)?)
}

impl Config {
    fn load_<T: serde::Serialize + serde::de::DeserializeOwned + Default + std::fmt::Debug>(
        suffix: &str,
    ) -> T {
        let file = Self::file_(suffix);
        log::debug!("Configuration path: {}", file.display());
        let cfg = load_path(file);
        if suffix.is_empty() {
            log::debug!("{:?}", cfg);
        }
        cfg
    }

    fn store_<T: serde::Serialize>(config: &T, suffix: &str) {
        let file = Self::file_(suffix);
        if let Err(err) = store_path(file, config) {
            log::error!("Failed to store config: {}", err);
        }
    }
    fn load() -> Config {
        let mut config = Config::load_::<Config>("");
        let mut store = false;
        let (password, _, store1) = decrypt_str_or_original(&config.password, PASSWORD_ENC_VERSION);
        config.password = password;
        store |= store1;
        let mut id_valid = false;
        let (id, encrypted, store2) = decrypt_str_or_original(&config.id, PASSWORD_ENC_VERSION);
        if encrypted {
            config.id = id;
            id_valid = true;
            store |= store2;
        } else {
            if crate::get_modified_time(&Self::file_(""))
                .checked_sub(std::time::Duration::from_secs(30)) // allow modification during installation
                .unwrap_or(crate::get_exe_time())
                < crate::get_exe_time()
            {
                id_valid = true;
                store = true;
            }
        }
        if !id_valid {
            for _ in 0..3 {
                if let Some(id) = Config::get_auto_id() {
                    config.id = id;
                    store = true;
                    break;
                } else {
                    log::error!("Failed to generate new id");
                }
            }
        }
        if store {
            config.store();
        }
        config
    }

/*
    fn load() -> Config {
        let mut config = Config::load_::<Config>("");
        let (password, _, store) = decrypt_str_or_original(&config.password, PASSWORD_ENC_VERSION);
        config.password = password;
        if store {
            config.store();
        }
        config
    }
*/
    fn store(&self) {
        let mut config = self.clone();
        config.password = encrypt_str_or_original(&config.password, PASSWORD_ENC_VERSION);
		config.id = encrypt_str_or_original(&config.id, PASSWORD_ENC_VERSION);
        Config::store_(&config, "");
    }

    pub fn file() -> PathBuf {
        Self::file_("")
    }

    fn file_(suffix: &str) -> PathBuf {
        let name = format!("{}{}", *APP_NAME.read().unwrap(), suffix);
        Config::with_extension(Self::path(name))
    }

    pub fn is_empty(&self) -> bool {
        self.id.is_empty() || self.key_pair.0.is_empty()
    }

    pub fn get_home() -> PathBuf {
        #[cfg(any(target_os = "android", target_os = "ios"))]
        return Self::path(APP_HOME_DIR.read().unwrap().as_str());
        if let Some(path) = dirs_next::home_dir() {
            patch(path)
        } else if let Ok(path) = std::env::current_dir() {
            path
        } else {
            std::env::temp_dir()
        }
    }

    pub fn path<P: AsRef<Path>>(p: P) -> PathBuf {
        #[cfg(any(target_os = "android", target_os = "ios"))]
        {
            let mut path: PathBuf = APP_DIR.read().unwrap().clone().into();
            path.push(p);
            return path;
        }
        #[cfg(not(target_os = "macos"))]
        let org = "";
        #[cfg(target_os = "macos")]
        let org = ORG.read().unwrap().clone();
        // /var/root for root
        if let Some(project) = ProjectDirs::from("", &org, &*APP_NAME.read().unwrap()) {
            let mut path = patch(project.config_dir().to_path_buf());
            path.push(p);
            return path;
        }
        return "".into();
    }

    #[allow(unreachable_code)]
    pub fn log_path() -> PathBuf {
        #[cfg(target_os = "macos")]
        {
            if let Some(path) = dirs_next::home_dir().as_mut() {
                path.push(format!("Library/Logs/{}", *APP_NAME.read().unwrap()));
                return path.clone();
            }
        }
        #[cfg(target_os = "linux")]
        {
            let mut path = Self::get_home();
            path.push(format!(".local/share/logs/{}", *APP_NAME.read().unwrap()));
            std::fs::create_dir_all(&path).ok();
            return path;
        }
        if let Some(path) = Self::path("").parent() {
            let mut path: PathBuf = path.into();
            path.push("log");
            return path;
        }
        "".into()
    }

    pub fn ipc_path(postfix: &str) -> String {
        #[cfg(windows)]
        {
            // \\ServerName\pipe\PipeName
            // where ServerName is either the name of a remote computer or a period, to specify the local computer.
            // https://docs.microsoft.com/en-us/windows/win32/ipc/pipe-names
            format!(
                "\\\\.\\pipe\\{}\\query{}",
                *APP_NAME.read().unwrap(),
                postfix
            )
        }
        #[cfg(not(windows))]
        {
            use std::os::unix::fs::PermissionsExt;
            #[cfg(target_os = "android")]
            let mut path: PathBuf =
                format!("{}/{}", *APP_DIR.read().unwrap(), *APP_NAME.read().unwrap()).into();
            #[cfg(not(target_os = "android"))]
            let mut path: PathBuf = format!("/tmp/{}", *APP_NAME.read().unwrap()).into();
            fs::create_dir(&path).ok();
            fs::set_permissions(&path, fs::Permissions::from_mode(0o0777)).ok();
            path.push(format!("ipc{}", postfix));
            path.to_str().unwrap_or("").to_owned()
        }
    }

    pub fn icon_path() -> PathBuf {
        let mut path = Self::path("icons");
        if fs::create_dir_all(&path).is_err() {
            path = std::env::temp_dir();
        }
        path
    }

    #[inline]
    pub fn get_any_listen_addr() -> SocketAddr {
        SocketAddr::new(IpAddr::V4(Ipv4Addr::new(0, 0, 0, 0)), 0)
    }

    pub async fn get_rendezvous_server() -> Option<String> {
        let mut rendezvous_server = Self::get_option("custom-rendezvous-server");
        /*
        if rendezvous_server.is_empty() {
            rendezvous_server = PROD_RENDEZVOUS_SERVER.read().unwrap().clone();
        }
        */
        if rendezvous_server.is_empty() {
            rendezvous_server = CONFIG2.write().unwrap().rendezvous_server.clone();
        }
        if rendezvous_server.is_empty() {
            rendezvous_server = Self::get_rendezvous_servers()
                .await?
                .drain(..)
                .next()
                .unwrap_or("".to_owned());
        }
        Some(rendezvous_server)
    }

    pub async fn get_rendezvous_servers() -> Option<Vec<String>> {
        let s = Self::get_option("custom-rendezvous-server");
        if !s.is_empty() {
            return Some(vec![s]);
        }
        let serial_obsolute = CONFIG2.read().unwrap().serial > SERIAL;
        if serial_obsolute {
            let ss: Vec<String> = Self::get_option("rendezvous-servers")
                .split(",")
                .filter(|x| x.contains("."))
                .map(|x| x.to_owned())
                .collect();
            if !ss.is_empty() {
                return Some(ss);
            }
        }
        let map = crate::api::call_api().await.ok()?;
		#[cfg(target_os = "ios")]
		{
	        let obj = map["rendezvous"].as_object()?;
	        Some(vec![format!(
	            "{}:{}",
	            obj["host"].as_str()?,
	            obj["port"].as_str()?
	        )])
		}
        
        #[cfg(not(target_os = "ios"))]
        {
	        let server_list = vec![
	            ("wss".to_string(), map["rendezvousssl"].as_object()),
	            ("ws".to_string(), map["rendezvous"].as_object()),
	        ];
	
	        Some(vec![server_list
	            .iter()
	            .flat_map(|(scheme, obj)| {
	                if let Some(obj) = obj {
	                    Some(format!(
	                        "{}://{}:{}",
	                        scheme,
	                        obj["host"].as_str()?,
	                        obj["port"].as_str()?
	                    ))
	                } else {
	                    None
	                }
	            })
	            .collect::<Vec<String>>()
	            .join(";")])
		}
    }

    pub fn reset_online() {
        *ONLINE.lock().unwrap() = Default::default();
    }

    pub fn update_latency(host: &str, latency: i64) {
        ONLINE.lock().unwrap().insert(host.to_owned(), latency);
        let mut host = "".to_owned();
        let mut delay = i64::MAX;
        for (tmp_host, tmp_delay) in ONLINE.lock().unwrap().iter() {
            if tmp_delay > &0 && tmp_delay < &delay {
                delay = tmp_delay.clone();
                host = tmp_host.to_string();
            }
        }
        if !host.is_empty() {
            let mut config = CONFIG2.write().unwrap();
            if host != config.rendezvous_server {
                log::debug!("Update rendezvous_server in config to {}", host);
                log::debug!("{:?}", *ONLINE.lock().unwrap());
                config.rendezvous_server = host;
                config.store();
            }
        }
    }

    pub fn set_id(id: &str) {
        let mut config = CONFIG.write().unwrap();
        if id == config.id {
            return;
        }
        config.id = id.into();
        config.store();
    }

    pub fn set_nat_type(nat_type: i32) {
        let mut config = CONFIG2.write().unwrap();
        if nat_type == config.nat_type {
            return;
        }
        config.nat_type = nat_type;
        config.store();
    }

    pub fn get_nat_type() -> i32 {
        CONFIG2.read().unwrap().nat_type
    }

    pub fn set_serial(serial: i32) {
        let mut config = CONFIG2.write().unwrap();
        if serial == config.serial {
            return;
        }
        config.serial = serial;
        config.store();
    }

    pub fn get_serial() -> i32 {
        std::cmp::max(CONFIG2.read().unwrap().serial, SERIAL)
    }

    fn get_auto_id() -> Option<String> {
        #[cfg(any(target_os = "android", target_os = "ios"))]
        {
            return Some(
                rand::thread_rng()
                    .gen_range(1_000_000_000..2_000_000_000)
                    .to_string(),
            );
        }
        let mut id = 0u32;
        #[cfg(not(any(target_os = "android", target_os = "ios")))]
        if let Ok(Some(ma)) = mac_address::get_mac_address() {
            for x in &ma.bytes()[2..] {
                id = (id << 8) | (*x as u32);
            }
            id = id & 0x1FFFFFFF;
            if id < 1_000_000_000 {
                id = rand::thread_rng().gen_range(100_000_000..200_000_000)
            }
            Some(id.to_string())
        } else {
            None
        }
    }

    pub fn get_auto_password(length: usize) -> String {
        let mut rng = rand::thread_rng();
        (0..length)
            .map(|_| CHARS[rng.gen::<usize>() % CHARS.len()])
            .collect()
    }

    pub fn get_key_confirmed() -> bool {
        CONFIG.read().unwrap().key_confirmed
    }

    pub fn set_key_confirmed(v: bool) {
        let mut config = CONFIG.write().unwrap();
        if config.key_confirmed == v {
            return;
        }
        config.key_confirmed = v;
        if !v {
            config.keys_confirmed = Default::default();
        }
        config.store();
    }

    pub fn get_host_key_confirmed(host: &str) -> bool {
        if let Some(true) = CONFIG.read().unwrap().keys_confirmed.get(host) {
            true
        } else {
            false
        }
    }

    pub fn set_host_key_confirmed(host: &str, v: bool) {
        if Self::get_host_key_confirmed(host) == v {
            return;
        }
        let mut config = CONFIG.write().unwrap();
        config.keys_confirmed.insert(host.to_owned(), v);
        config.store();
    }

    pub fn get_key_pair() -> (Vec<u8>, Vec<u8>) {
        // lock here to make sure no gen_keypair more than once
        // no use of CONFIG directly here to ensure no recursive calling in Config::load because of password dec which calling this function
        let mut lock = KEY_PAIR.lock().unwrap();
        if let Some(p) = lock.as_ref() {
            return p.clone();
        }
        let mut config = Config::load_::<Config>("");
        if config.key_pair.0.is_empty() {
            let (pk, sk) = sign::gen_keypair();
            let key_pair = (sk.0.to_vec(), pk.0.into());
            config.key_pair = key_pair.clone();
            std::thread::spawn(|| {
                let mut config = CONFIG.write().unwrap();
                config.key_pair = key_pair;
                config.store();
            });
        }
        *lock = Some(config.key_pair.clone());
        return config.key_pair;
    }

    pub fn get_id() -> String {
        let mut id = CONFIG.read().unwrap().id.clone();
        if id.is_empty() {
            if let Some(tmp) = Config::get_auto_id() {
                id = tmp;
                Config::set_id(&id);
            }
        }
        id
    }

    pub fn get_id_or(b: String) -> String {
        let a = CONFIG.read().unwrap().id.clone();
        if a.is_empty() {
            b
        } else {
            a
        }
    }

    pub fn get_options() -> HashMap<String, String> {
        CONFIG2.read().unwrap().options.clone()
    }

    pub fn set_options(v: HashMap<String, String>) {
        let mut config = CONFIG2.write().unwrap();
        if config.options == v {
            return;
        }
        config.options = v;
        config.store();
    }

    pub fn get_option(k: &str) -> String {
        if let Some(v) = CONFIG2.read().unwrap().options.get(k) {
            v.clone()
        } else {
            "".to_owned()
        }
    }

    pub fn set_option(k: String, v: String) {
        let mut config = CONFIG2.write().unwrap();
        let v2 = if v.is_empty() { None } else { Some(&v) };
        if v2 != config.options.get(&k) {
            if v2.is_none() {
                config.options.remove(&k);
            } else {
                config.options.insert(k, v);
            }
            config.store();
        }
    }

    pub fn update_id() {
        // to-do: how about if one ip register a lot of ids?
        let id = Self::get_id();
        let mut rng = rand::thread_rng();
        let new_id = rng.gen_range(1_000_000_000..2_000_000_000).to_string();
        Config::set_id(&new_id);
        log::info!("id updated from {} to {}", id, new_id);
    }

    pub fn set_permanent_password(password: &str) {
        let mut config = CONFIG.write().unwrap();
        if password == config.password {
            return;
        }
        config.password = password.into();
        config.store();
    }

    pub fn get_permanent_password() -> String {
        CONFIG.read().unwrap().password.clone()
    }

    pub fn set_salt(salt: &str) {
        let mut config = CONFIG.write().unwrap();
        if salt == config.salt {
            return;
        }
        config.salt = salt.into();
        config.store();
    }

    pub fn get_salt() -> String {
        let mut salt = CONFIG.read().unwrap().salt.clone();
        if salt.is_empty() {
            salt = Config::get_auto_password(6);
            Config::set_salt(&salt);
        }
        salt
    }

    pub fn set_socks(socks: Option<Socks5Server>) {
        let mut config = CONFIG2.write().unwrap();
        if config.socks == socks {
            return;
        }
        config.socks = socks;
        config.store();
    }

    pub fn get_socks() -> Option<Socks5Server> {
        CONFIG2.read().unwrap().socks.clone()
    }

    pub fn get_network_type() -> NetworkType {
        match &CONFIG2.read().unwrap().socks {
            None => NetworkType::Direct,
            Some(_) => NetworkType::ProxySocks,
        }
    }

    pub fn get() -> Config {
        return CONFIG.read().unwrap().clone();
    }

    pub fn set(cfg: Config) -> bool {
        let mut lock = CONFIG.write().unwrap();
        if *lock == cfg {
            return false;
        }
        *lock = cfg;
        lock.store();
        true
    }

    fn with_extension(path: PathBuf) -> PathBuf {
        let ext = path.extension();
        if let Some(ext) = ext {
            let ext = format!("{}.toml", ext.to_string_lossy());
            path.with_extension(&ext)
        } else {
            path.with_extension("toml")
        }
    }
}

const PEERS: &str = "peers";

impl PeerConfig {
    pub fn load(id: &str) -> PeerConfig {
        let _ = CONFIG.read().unwrap(); // for lock
        match confy::load_path(&Self::path(id)) {
            Ok(config) => {
                let mut config: PeerConfig = config;
                let mut store = false;
                let (password, _, store2) =
                    decrypt_vec_or_original(&config.password, PASSWORD_ENC_VERSION);
                config.password = password;
                store = store || store2;
                config.options.get_mut("rdp_password").map(|v| {
                    let (password, _, store2) = decrypt_str_or_original(v, PASSWORD_ENC_VERSION);
                    *v = password;
                    store = store || store2;
                });
                config.options.get_mut("os-password").map(|v| {
                    let (password, _, store2) = decrypt_str_or_original(v, PASSWORD_ENC_VERSION);
                    *v = password;
                    store = store || store2;
                });
                if store {
                    config.store(id);
                }
                config
            }
            Err(err) => {
                log::error!("Failed to load config: {}", err);
                Default::default()
            }
        }
    }

    pub fn store(&self, id: &str) {
        let _ = CONFIG.read().unwrap(); // for lock
        let mut config = self.clone();
        config.password = encrypt_vec_or_original(&config.password, PASSWORD_ENC_VERSION);
        config
            .options
            .get_mut("rdp_password")
            .map(|v| *v = encrypt_str_or_original(v, PASSWORD_ENC_VERSION));
        config
            .options
            .get_mut("os-password")
            .map(|v| *v = encrypt_str_or_original(v, PASSWORD_ENC_VERSION));
        if let Err(err) = store_path(Self::path(id), config) {
            log::error!("Failed to store config: {}", err);
        }
    }

    pub fn remove(id: &str) {
        fs::remove_file(&Self::path(id)).ok();
    }

    fn path(id: &str) -> PathBuf {
        let path: PathBuf = [PEERS, id].iter().collect();
        Config::with_extension(Config::path(path))
    }

    pub fn peers() -> Vec<(String, SystemTime, PeerConfig)> {
        if let Ok(peers) = Config::path(PEERS).read_dir() {
            if let Ok(peers) = peers
                .map(|res| res.map(|e| e.path()))
                .collect::<Result<Vec<_>, _>>()
            {
                let mut peers: Vec<_> = peers
                    .iter()
                    .filter(|p| {
                        p.is_file()
                            && p.extension().map(|p| p.to_str().unwrap_or("")) == Some("toml")
                    })
                    .map(|p| {
                        let t = crate::get_modified_time(&p);
                        let id = p
                            .file_stem()
                            .map(|p| p.to_str().unwrap_or(""))
                            .unwrap_or("")
                            .to_owned();
                        let c = PeerConfig::load(&id);
                        if c.info.platform.is_empty() {
                            fs::remove_file(&p).ok();
                        }
                        (id, t, c)
                    })
                    .filter(|p| !p.2.info.platform.is_empty())
                    .collect();
                peers.sort_unstable_by(|a, b| b.1.cmp(&a.1));
                return peers;
            }
        }
        Default::default()
    }
}

#[derive(Debug, Default, Serialize, Deserialize, Clone)]
pub struct LocalConfig {
    #[serde(default)]
    remote_id: String, // latest used one
    #[serde(default)]
    size: Size,
    #[serde(default)]
    pub fav: Vec<String>,
    #[serde(default)]
    options: HashMap<String, String>,
}

impl LocalConfig {
    fn load() -> LocalConfig {
        Config::load_::<LocalConfig>("_local")
    }

    fn store(&self) {
        Config::store_(self, "_local");
    }

    pub fn get_size() -> Size {
        LOCAL_CONFIG.read().unwrap().size
    }

    pub fn set_size(x: i32, y: i32, w: i32, h: i32) {
        let mut config = LOCAL_CONFIG.write().unwrap();
        let size = (x, y, w, h);
        if size == config.size || size.2 < 300 || size.3 < 300 {
            return;
        }
        config.size = size;
        config.store();
    }

    pub fn set_remote_id(remote_id: &str) {
        let mut config = LOCAL_CONFIG.write().unwrap();
        if remote_id == config.remote_id {
            return;
        }
        config.remote_id = remote_id.into();
        config.store();
    }

    pub fn get_remote_id() -> String {
        LOCAL_CONFIG.read().unwrap().remote_id.clone()
    }

    pub fn set_fav(fav: Vec<String>) {
        let mut lock = LOCAL_CONFIG.write().unwrap();
        if lock.fav == fav {
            return;
        }
        lock.fav = fav;
        lock.store();
    }

    pub fn get_fav() -> Vec<String> {
        LOCAL_CONFIG.read().unwrap().fav.clone()
    }

    pub fn get_option(k: &str) -> String {
        if let Some(v) = LOCAL_CONFIG.read().unwrap().options.get(k) {
            v.clone()
        } else {
            "".to_owned()
        }
    }

    pub fn set_option(k: String, v: String) {
        let mut config = LOCAL_CONFIG.write().unwrap();
        let v2 = if v.is_empty() { None } else { Some(&v) };
        if v2 != config.options.get(&k) {
            if v2.is_none() {
                config.options.remove(&k);
            } else {
                config.options.insert(k, v);
            }
            config.store();
        }
    }
}

#[derive(Debug, Default, Serialize, Deserialize, Clone)]
pub struct DiscoveryPeer {
    pub id: String,
    #[serde(with = "serde_with::rust::map_as_tuple_list")]
    pub ip_mac: HashMap<String, String>,
    pub username: String,
    pub hostname: String,
    pub platform: String,
    pub online: bool,
}

impl DiscoveryPeer {
    pub fn is_same_peer(&self, other: &DiscoveryPeer) -> bool {
        self.id == other.id && self.username == other.username
    }
}

#[derive(Debug, Default, Serialize, Deserialize, Clone)]
pub struct LanPeers {
    pub peers: Vec<DiscoveryPeer>,
}

impl LanPeers {
    pub fn load() -> LanPeers {
        let _ = CONFIG.read().unwrap(); // for lock
        match confy::load_path(&Config::file_("_lan_peers")) {
            Ok(peers) => peers,
            Err(err) => {
                log::error!("Failed to load lan peers: {}", err);
                Default::default()
            }
        }
    }

    pub fn store(peers: &Vec<DiscoveryPeer>) {
        let f = LanPeers {
            peers: peers.clone(),
        };
        if let Err(err) = store_path(Config::file_("_lan_peers"), f) {
            log::error!("Failed to store lan peers: {}", err);
        }
    }

    pub fn modify_time() -> crate::ResultType<u64> {
        let p = Config::file_("_lan_peers");
        Ok(fs::metadata(p)?
            .modified()?
            .duration_since(SystemTime::UNIX_EPOCH)?
            .as_millis() as _)
    }
}

#[derive(Debug, Default, Serialize, Deserialize, Clone)]
pub struct HwCodecConfig {
    #[serde(default)]
    pub options: HashMap<String, String>,
}

impl HwCodecConfig {
    pub fn load() -> HwCodecConfig {
        Config::load_::<HwCodecConfig>("_hwcodec")
    }

    pub fn store(&self) {
        Config::store_(self, "_hwcodec");
    }

    pub fn remove() {
        std::fs::remove_file(Config::file_("_hwcodec")).ok();
    }
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_serialize() {
        let cfg: Config = Default::default();
        let res = toml::to_string_pretty(&cfg);
        assert!(res.is_ok());
        let cfg: PeerConfig = Default::default();
        let res = toml::to_string_pretty(&cfg);
        assert!(res.is_ok());
    }
}
